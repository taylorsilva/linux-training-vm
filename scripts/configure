#!/bin/bash
set -ex

timedatectl set-timezone "$TIME_ZONE"

add-apt-repository ppa:longsleep/golang-backports
add-apt-repository ppa:neovim-ppa/stable
# for installing nodejs
curl -sL https://deb.nodesource.com/setup_15.x | bash -
apt update

apt install -y \
  bison \
  build-essential \
  flex \
  gcc \
  git \
  golang-go \
  inotify-tools \
  libacl1-dev \
  libcap-dev \
  libcap-ng-utils \
  libelf-dev \
  libseccomp-dev \
  libselinux1-dev \
  libssl-dev \
  make \
  neovim \
  nodejs \
  python3-neovim \
  python-dev \
  python3-dev \
  python3-pip \
  silversearcher-ag \
  stow \
  tldr \
  util-linux

pip3 --version
pip3 install neovim

# Make GRUB pause during the boot, to give a chance to select custom boot configuration
sed -i 's/GRUB_TIMEOUT=0/GRUB_TIMEOUT=10/g' /etc/default/grub
update-grub
